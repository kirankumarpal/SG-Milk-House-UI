<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Update Products</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>

  <!-- Favicons -->
  <link href="./assets/img/k-icon-27.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital@1&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@1,600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@1,600&family=Raleway:wght@300&display=swap"
    rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300&family=Montserrat:ital,wght@1,300&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="./assets/css/main.css" rel="stylesheet">

</head>

<body class="login-page" data-bs-spy="scroll" data-bs-target="#navmenu" style="text-align: center;">

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">
    <div class="container-fluid d-flex align-items-center justify-content-between">

      <a href="indexowner.html" class="logo d-flex align-items-center me-auto me-xl-0">
        <h1>SG MiLk House</h1>
        <span>.</span>
      </a>

      <!-- Nav Menu -->
      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="indexowner.html#hero" class="active">Home</a></li>
          <li><a href="indexowner.html#about">About</a></li>
          <li><a href="indexowner.html#portfolio">Portfolio</a></li>
          <li><a href="Products.html">Products</a></li>
          <li><a href="indexowner.html#team">Team</a></li>
          <li><a href="indexowner.html#contact">Contact</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav><!-- End Nav Menu -->

      <div class="searchbox1 ">
        <button type="button" class="btn-getstarted btn2 btn-secondary dropdown-toggle" data-bs-toggle="dropdown">Insert/ Update/ View</button>
        <ul class="dropdown-menu" style="font-size: 15px; ">
          <li><a class="dropdown-item" href="./Add Products.html">Add Products</a></li>
          <li><a class="dropdown-item" href="./View Products.html" >View Products</a></li><hr>
          <li><a class="dropdown-item" href="./View Clients.html">View Clients</a></li>
        </ul>
      </div>

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- Update Products Details Page -->
    <div data-aos="fade" class="page-title">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-5">
              <h1><em>Update Products</em></h1>
            </div>
          </div>
        </div>
      </div>
      <!-- <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a href="indexowner.html">Home</a></li>
            <li class="current">Update Products</li>
          </ol>
        </div>
      </nav> -->
    </div><!-- End Page Title -->

    <!-- Products-details Section - Products Details Page -->

    <div class="listing-page">
      <div class="container">
        <div class="col-lg-12">
          <div class="usr-form">
            <div class="div-field">
              <label class="lbl">Id:-</label> <input class="inp" type="number" id="upd-id" disabled>
            </div>
            <div class="div-field">
              <label class="lbl">Name:-</label>
              <select class="inp" id="upd-name" >
                <option value="Milk" selected="selected">Milk</option>
                <option value="Biscuits">Biscuits</option>
                <option value="Dairy Products">Dairy Products</option>
                <option value="Icecream">Icecream</option>
                <option value="Bakery Items">Bakery Items</option>
                <option value="Chocolates">Chocolates</option>
              </select>
            </div>
            <div class="div-field">
              <label class="lbl">Brand:-</label> <input class="inp" type="text" id="upd-brand">
            </div>
            <div class="div-field">
              <label class="lbl">Price:-</label> <input class="inp" type="number" id="upd-price">
            </div>
            <div class="div-field">
              <label class="lbl">Image:-</label>
              <input class="inp" type="file" id="upd-image" style="display: inline;">
            </div>
            <button id="id-updateproduct" onclick="updateProduct()">Update</button>
            <h1 id="reg-response"></h1>
          </div>
        </div>
      </div>
    </div>
    <br>
    <!-- ======= Footer ======= -->
    <footer id="footer" class="footer">
      <div class="container copyright text-center ">
        <p>&copy; <span>Copyright</span> <strong class="px-1">SG MiLk House</strong> <span>All Rights Reserved</span>
        </p>
        <div class="credits">
          Designed by <a href="">SG & Team</a>
        </div>
      </div>
    </footer><!-- End Footer --
    <!-- Scroll Top Button -->
    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
        class="bi bi-arrow-up-short"></i></a>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js'></script>
    <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>

    <!-- Template Main JS File -->
    <script src="./assets/js/main.js"></script>
    <script src="./assets/js/products.js"></script>
    <script src="./assets/js/code.jquery.com_jquery-3.7.1.js"></script>

    <script>
      $(document).ready(function () {
        // Get the productId from the query parameter
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get("productId");

        // Fetch product data based on the productId using AJAX or from your data source
        // For example:
        $.ajax({
          url: "http://localhost:8080/getProductById?id=" + productId,
          method: "GET",
          success: function (data) {
            // Populate the input fields with the retrieved data
            $("#upd-id").val(data.id);
            $("#upd-name").val(data.name);
            $("#upd-brand").val(data.brand);
            $("#upd-price").val(data.price);

            // Set the initial file input value to an empty string (clearing any previous selection)
            $("#upd-image").val("");

            // When the user selects a file using the input with the ID "upd-image,"
            // you can display the selected image in the adjacent <img> element.
            $("#upd-image").on("change", function () {
              const selectedFile = this.files[0];
              if (selectedFile) {
                const reader = new FileReader();
                reader.onload = function (e) {
                  // Set the src attribute of the adjacent <img> element and show it
                  $("#product-image").attr("src", e.target.result);
                  $("#product-image").css("display", "inline");
                };
                reader.readAsDataURL(selectedFile);
              } else {
                // Hide the <img> element if no file is selected
                $("#product-image").css("display", "none");
              }
            });
          },
          error: function (error) {
            // Handle errors
          }
        });

      });

    </script>

</body>

</html>